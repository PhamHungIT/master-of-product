[2023-02-09T08:45:00.713+0000] {taskinstance.py:1087} INFO - Dependencies all met for <TaskInstance: crawler-dag2.bash_command manual__2023-02-09T08:44:59.424697+00:00 [queued]>
[2023-02-09T08:45:00.721+0000] {taskinstance.py:1087} INFO - Dependencies all met for <TaskInstance: crawler-dag2.bash_command manual__2023-02-09T08:44:59.424697+00:00 [queued]>
[2023-02-09T08:45:00.721+0000] {taskinstance.py:1283} INFO - 
--------------------------------------------------------------------------------
[2023-02-09T08:45:00.721+0000] {taskinstance.py:1284} INFO - Starting attempt 1 of 1
[2023-02-09T08:45:00.721+0000] {taskinstance.py:1285} INFO - 
--------------------------------------------------------------------------------
[2023-02-09T08:45:00.733+0000] {taskinstance.py:1304} INFO - Executing <Task(BashOperator): bash_command> on 2023-02-09 08:44:59.424697+00:00
[2023-02-09T08:45:00.737+0000] {standard_task_runner.py:55} INFO - Started process 6848 to run task
[2023-02-09T08:45:00.739+0000] {standard_task_runner.py:82} INFO - Running: ['***', 'tasks', 'run', 'crawler-dag2', 'bash_command', 'manual__2023-02-09T08:44:59.424697+00:00', '--job-id', '5', '--raw', '--subdir', 'DAGS_FOLDER/crawler-dag.py', '--cfg-path', '/tmp/tmpqdmvf_xm']
[2023-02-09T08:45:00.740+0000] {standard_task_runner.py:83} INFO - Job 5: Subtask bash_command
[2023-02-09T08:45:00.784+0000] {task_command.py:389} INFO - Running <TaskInstance: crawler-dag2.bash_command manual__2023-02-09T08:44:59.424697+00:00 [running]> on host 3d45bdeeaf4a
[2023-02-09T08:45:00.861+0000] {taskinstance.py:1513} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=crawler-dag2
AIRFLOW_CTX_TASK_ID=bash_command
AIRFLOW_CTX_EXECUTION_DATE=2023-02-09T08:44:59.424697+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=manual__2023-02-09T08:44:59.424697+00:00
[2023-02-09T08:45:00.861+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-02-09T08:45:00.862+0000] {subprocess.py:75} INFO - Running command: ['/bin/bash', '-c', 'python3 /opt/***/crawler/dmx.py']
[2023-02-09T08:45:00.872+0000] {subprocess.py:86} INFO - Output:
[2023-02-09T08:45:01.586+0000] {subprocess.py:93} INFO - /opt/***/crawler/dmx.py:25: DeprecationWarning: executable_path has been deprecated, please pass in a Service object
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -   browser = webdriver.Chrome(executable_path="opt/***/crawler/chromedriver", chrome_options=chrome_options)
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO - /opt/***/crawler/dmx.py:25: DeprecationWarning: use options instead of chrome_options
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -   browser = webdriver.Chrome(executable_path="opt/***/crawler/chromedriver", chrome_options=chrome_options)
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO - Traceback (most recent call last):
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/service.py", line 95, in start
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -     path = SeleniumManager().driver_location(browser)
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/selenium_manager.py", line 74, in driver_location
[2023-02-09T08:45:01.587+0000] {subprocess.py:93} INFO -     result = self.run((binary, flag, browser))
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/selenium_manager.py", line 93, in run
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO -     raise SeleniumManagerException(f"Selenium manager failed for: {command}.\n{stdout}{stderr}")
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - selenium.common.exceptions.SeleniumManagerException: Message: Selenium manager failed for: /home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/linux/selenium-manager --browser chrome.
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 13, kind: PermissionDenied, message: "Permission denied" }', src/files.rs:54:35
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - 
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - 
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - During handling of the above exception, another exception occurred:
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - 
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO - Traceback (most recent call last):
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO -   File "/opt/***/crawler/dmx.py", line 25, in <module>
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO -     browser = webdriver.Chrome(executable_path="opt/***/crawler/chromedriver", chrome_options=chrome_options)
[2023-02-09T08:45:01.588+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/chrome/webdriver.py", line 89, in __init__
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -     keep_alive,
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/chromium/webdriver.py", line 101, in __init__
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -     self.service.start()
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/service.py", line 98, in start
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -     raise err
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/service.py", line 88, in start
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -     self._start_process(self.path)
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.7/site-packages/selenium/webdriver/common/service.py", line 210, in _start_process
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO -     f"'{os.path.basename(self.path)}' executable needs to be in PATH. {self.start_error_message}"
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO - selenium.common.exceptions.WebDriverException: Message: 'chromedriver' executable needs to be in PATH. Please see https://chromedriver.chromium.org/home
[2023-02-09T08:45:01.589+0000] {subprocess.py:93} INFO - 
[2023-02-09T08:45:01.608+0000] {subprocess.py:97} INFO - Command exited with return code 1
[2023-02-09T08:45:01.616+0000] {taskinstance.py:1772} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/operators/bash.py", line 197, in execute
    f"Bash command failed. The command returned a non-zero exit code {result.exit_code}."
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 1.
[2023-02-09T08:45:01.619+0000] {taskinstance.py:1327} INFO - Marking task as FAILED. dag_id=crawler-dag2, task_id=bash_command, execution_date=20230209T084459, start_date=20230209T084500, end_date=20230209T084501
[2023-02-09T08:45:01.629+0000] {standard_task_runner.py:105} ERROR - Failed to execute job 5 for task bash_command (Bash command failed. The command returned a non-zero exit code 1.; 6848)
[2023-02-09T08:45:01.672+0000] {local_task_job.py:159} INFO - Task exited with return code 1
[2023-02-09T08:45:01.690+0000] {taskinstance.py:2582} INFO - 0 downstream tasks scheduled from follow-on schedule check
